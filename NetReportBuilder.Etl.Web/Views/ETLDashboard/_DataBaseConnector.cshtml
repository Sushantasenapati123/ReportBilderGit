



@{
    ViewData["Title"] = "Api Connector";
    Layout = null;

}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrollable Table with Scroll to Top</title>

</head>

<div class="container mt-8">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">QUERY</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="code-tab" data-toggle="tab" href="#code" role="tab" aria-controls="code" aria-selected="false">CODE</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <!-- API Interface Tab -->
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="form-group" style="width:100%;height:auto;" align="center">
                <form id="databaseForm">

                    <div class="form-group mb-3 mt-3 col-xl-12">

                        <select id="Connection" name="DatabaseType" class="form-select form-control">
                            <option value="Select Database">~Select Connection~</option>

                        </select>
                    </div>



                    <div class="form-group mb-3 col-xl-12">

                        <div class="form-group mt-3">
                            <textarea id="txtQueryBuilder" style="height: 145px;" class="form-control" rows="10" placeholder="Write Query here..."></textarea>
                        </div>
                    </div>



                    <button id="testConnectionButton" style="margin-left: 844px; " class="btn btn-primary" type="button" onclick="ViewResult()">View Result</button>
                    <button id="connectButton" style="padding-left: 20px; padding-right: 20px;" class="btn btn-success" type="button" onclick="saveDatabase()" disabled>Save</button>

                </form>
                <div class="rows" style="display:none" id="APIresults">
                    <div class="col-xl-12 col-lg-12">
                        <label id="lblBody" class="BasicControlSettings BoldSetting" hidden>
                            <b>RESULT</b>
                        </label>

                        <div id="dataGridViewContainer" style="max-height: 300px; max-width: 1600px; overflow-y: auto; overflow-x: auto; position: relative; border: 1px solid #ddd;">
                            <table id="dataGridview" class="table table-bordered" style="width: 1400px; table-layout: fixed;">
                                <thead style="position: sticky; top: 0; background-color: white; z-index: 1;">

                                </thead>
                                <tbody>
                                </tbody>


                            </table>
                            <!-- Scroll to Top Button -->
                            <button id="scrollToTopBtn" onclick="scrollToTop()" style="display: none; position: absolute; bottom: 10px; right: 10px; background-color: #007bff; color: white; border: none; padding: 10px; border-radius: 5px;">Top</button>
                        </div>

                        <div id="pagination"></div>
                        <textarea hidden class="form-control" disabled id="apiresult"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Editor Tab -->
        <div class="tab-pane fade" id="code" role="tabpanel" aria-labelledby="code-tab">
            <div class="form-group mt-3">
                <textarea id="codeEditor" class="form-control" rows="10" placeholder="Write your code here..."></textarea>
            </div>
            <button type="button" class="btn btn-danger mb-3" id="btnSave" onclick="saveDatabase()" disabled>Save</button>
        </div>
    </div>
</div>

<script>
    // Scroll to top function
    function scrollToTop() {
        var container = document.getElementById('dataGridViewContainer');
        container.scrollTop = 0; // Scroll vertically to the top
    }

    // Show the scroll-to-top button when scrolled down
    document.getElementById('dataGridViewContainer').addEventListener('scroll', function () {
        var container = this;
        var scrollTopBtn = document.getElementById('scrollToTopBtn');

        // Show the button if scrolled more than 100px vertically
        if (container.scrollTop > 100) {
            scrollTopBtn.style.display = 'block';
        } else {
            scrollTopBtn.style.display = 'none';
        }
    });
</script>


<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


